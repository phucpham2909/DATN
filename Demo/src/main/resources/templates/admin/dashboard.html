<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	th:replace="~{/admin/layout/sidebar-layout::view(~{::title}, ~{::article})}">
<head>
    <meta charset="UTF-8">
    <title>Trang Doanh Thu</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-4">
	<article>
	<div class="container mt-4">
    <h2 class="mb-4">üìä B√°o c√°o doanh thu</h2>

    <!-- Form l·ªçc theo tu·∫ßn -->
	    <form th:action="@{/admin/dashboard/filter}" method="get" class="row g-3 mb-4">
        <div class="col-auto">
            <label for="start" class="form-label">Ng√†y b·∫Øt ƒë·∫ßu</label>
            <input type="date" id="start" name="start" th:value="${start}" class="form-control"/>
        </div>
        <div class="col-auto">
            <label for="end" class="form-label">Ng√†y k·∫øt th√∫c</label>
            <input type="date" id="end" name="end" th:value="${end}" class="form-control"/>
        </div>
        <div class="col-auto align-self-end">
            <button type="submit" class="btn btn-success">L·ªçc</button>
        </div>
    </form>



	<!-- B·∫£ng doanh thu v√© -->
   <!-- T·ªïng ti·ªÅn -->
<div class="alert alert-info">
    <strong>T·ªïng ti·ªÅn v√©:</strong> <span th:text=" ${#numbers.formatDecimal(tongTienVe, 1, 'COMMA', 0, 'POINT')} + ' VNƒê'"></span> |
    <strong>T·ªïng ti·ªÅn s·∫£n ph·∫©m:</strong> <span th:text=" ${#numbers.formatDecimal(tongTienSanPham, 1, 'COMMA', 0, 'POINT')} + ' VNƒê'"></span>
</div>

<!-- B·∫£ng doanh thu v√© -->
<h4>Doanh thu v√©</h4>
	<table class="table table-bordered table-striped">
		<thead class="table-dark">
			<tr>
				<th>STT</th>
				<th>Ng√†y</th>
				<th>S·ªë l∆∞·ª£ng v√©</th>
				<th>T·ªïng ti·ªÅn v√©</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="b, stat  : ${doanhThuVe}">
				<td th:text="${stat.index + 1}"></td>
				<td th:text="${#dates.format(b.date, 'dd/MM/yyyy')}"></td>
				<td th:text="${b.ve.size()}"></td>
				<td th:text=" ${#numbers.formatDecimal(b.sum, 1, 'COMMA', 0, 'POINT')} + ' VNƒê'"></td>
			</tr>
		</tbody>
	</table>

	<!-- Ph√¢n trang v√© -->
<!-- 	<nav>
		<ul class="pagination">
			<li th:each="i : ${#numbers.sequence(0, totalPagesVe-1)}"
				th:classappend="${i == currentPage} ? 'active'"><a
				class="page-link" th:href="@{/admin/dashboard(page=${i})}" th:text="${i+1}"></a>
			</li>
		</ul>
	</nav> -->

	<!-- B·∫£ng doanh thu s·∫£n ph·∫©m -->
	<h4>Doanh thu s·∫£n ph·∫©m</h4>
	<table class="table table-bordered table-striped">
		<thead class="table-dark">
			<tr>
				<th>STT</th>
				<th>S·∫£n ph·∫©m</th>
				<th>S·ªë l∆∞·ª£ng</th>
				<th>Th√†nh ti·ªÅn</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="bp, stat : ${doanhThuSanPham}">
				<td th:text="${stat.index + 1}"></td>
				<td th:text="${bp.product.name}"></td>
				<td th:text="${bp.quantity}"></td>
				<td th:text=" ${#numbers.formatDecimal(bp.product.price * bp.quantity, 1, 'COMMA', 0, 'POINT')} + ' VNƒê'" ></td>
			</tr>
		</tbody>
	</table>

	<!-- Ph√¢n trang s·∫£n ph·∫©m -->
<!-- 	<nav>
		<ul class="pagination">
			<li th:each="i : ${#numbers.sequence(0, totalPagesSp-1)}"
				th:classappend="${i == currentPage} ? 'active'"><a
				class="page-link" th:href="@{/admin/dashboard(page=${i})}" th:text="${i+1}"></a>
			</li>
		</ul>
	</nav> -->
	</div>
	</article>

	
</body>
</html>