<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	th:replace="~{/admin/layout/sidebar-layout::view(~{::title}, ~{::article})}">
<head>
    <meta charset="UTF-8">
    <title>Trang Doanh Thu</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-4">
	<article>
	<div class="container mt-4">
    <h2 class="mb-4">üìä B√°o c√°o doanh thu</h2>

			<form th:action="@{/admin/dashboard/product}" method="get"
				class="d-flex align-items-center mb-3">
				<input type="text" name="keyword" th:value="${keyword}"
					class="form-control me-2" placeholder="T√¨m theo t√™n s·∫£n ph·∫©m...">
				<input type="hidden" name="sort"
					th:value="${sort == 'asc' ? 'desc' : 'asc'}" />
				<button type="submit" class="btn btn-outline-primary me-2"
					style="min-width: 80px; padding: 0.375rem 0.75rem;">
					<span th:text="${sort == 'asc' ? 'A-Z' : 'Z-A'}"></span>
				</button>
				<button class="btn btn-outline-primary" type="submit">üîç</button>
			</form>


			<!-- B·∫£ng doanh thu v√© -->
   <!-- T·ªïng ti·ªÅn -->
<div class="alert alert-info">
    <strong>T·ªïng ti·ªÅn s·∫£n ph·∫©m:</strong> <span th:text=" ${#numbers.formatDecimal(tongTienSp, 1,'POINT', 0, 'COMMA')} + ' VNƒê'"></span>
</div>

<!-- B·∫£ng doanh thu v√© -->

	<h4>Doanh thu s·∫£n ph·∫©m</h4>
	<table class="table table-bordered table-striped">
		<thead class="table-dark">
			<tr>
				<th>STT</th>
				<th>S·∫£n ph·∫©m</th>
				<th>S·ªë l∆∞·ª£ng</th>
				<th>Th√†nh ti·ªÅn</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="bp, stat : ${doanhThuSanPham}">
				<td th:text="${stat.index + 1}"></td>
				<td th:text="${bp.product.name}"></td>
				<td th:text="${bp.quantity}"></td>
				<td th:text=" ${#numbers.formatDecimal(bp.product.price * bp.quantity, 1, 'COMMA', 0, 'POINT')} + ' VNƒê'" ></td>
			</tr>
		</tbody>
	</table>

	</div>
	<nav class="mt-3" th:if="${pageData.totalPages > 0}">
    <ul class="pagination justify-content-center">

        <li class="page-item" th:classappend="${pageData.first} ? 'disabled'">
            <a class="page-link" th:href="@{|?page=0&keyword=${keyword}|}">Trang ƒë·∫ßu</a>
        </li>

        <li class="page-item" th:classappend="${pageData.first} ? 'disabled'">
            <a class="page-link"
               th:href="@{|?page=${pageData.number - 1}&keyword=${keyword}|}">
                Trang tr∆∞·ªõc
            </a>
        </li>

        <li class="page-item disabled">
            <span class="page-link">
                Trang [[${pageData.number + 1}]] / [[${pageData.totalPages}]]
            </span>
        </li>

        <li class="page-item" th:classappend="${pageData.last} ? 'disabled'">
            <a class="page-link"
               th:href="@{|?page=${pageData.number + 1}&keyword=${keyword}|}">
                Trang k·∫ø
            </a>
        </li>

        <li class="page-item" th:classappend="${pageData.last} ? 'disabled'">
            <a class="page-link"
               th:href="@{|?page=${pageData.totalPages - 1}&keyword=${keyword}|}">
                Trang cu·ªëi
            </a>
        </li>

    </ul>
</nav>
	</article>

	
</body>
</html>