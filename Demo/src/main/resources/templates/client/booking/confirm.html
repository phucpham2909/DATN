<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{/shared/layout::view(~{::title}, ~{::article})}">
<head>
<meta charset="UTF-8">
<title>H√≥a ƒë∆°n ƒë·∫∑t v√©</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet">

<style>
.ticket{
    max-width:550px;
    margin:auto;
    background:#fff;
    padding:25px;
    border-radius:15px;
    box-shadow:0 0 12px rgba(0,0,0,0.15);
    border-left:6px solid #dc3545;
}
.ticket-header{
    text-align:center;
    border-bottom:1px dashed #bbb;
    margin-bottom:15px;
    padding-bottom:10px;
}
.seat-list li{
    padding:5px 0;
    border-bottom:1px dashed #ddd;
}
.total-price{
    font-size:1.4rem;
    font-weight:bold;
    color:#d63384;
}
</style>
</head>

<body class="bg-light">

<article>

<div class="ticket mt-4 mb-3">

<div class="ticket-header">
    <h3 class="text-danger fw-bold">üé¨ H√ìA ƒê∆†N ƒê·∫∂T V√â</h3>
</div>

<p>
    <strong>Phim:</strong>
    <span th:text="${booking.suatChieu.detailFilm.film.name}"></span>
</p>

<p>
    <strong>Ng√†y chi·∫øu:</strong>
    <span th:text="${booking.suatChieu.date}"></span>
</p>

<p>
    <strong>Gi·ªù chi·∫øu:</strong>
    <span th:text="${booking.suatChieu.gioBatDau}"></span>
    -
    <span th:text="${booking.suatChieu.gioKetThuc}"></span>
</p>

<h5 class="mt-3 text-primary">Gh·∫ø</h5>
<ul class="seat-list">
    <li th:each="ve : ${veList}">
        <strong th:text="${ve.seats.name}"></strong>
        <span class="float-end"
              th:text="${#numbers.formatDecimal(ve.price,0,'POINT',0,'COMMA')} + ' VND'"></span>
    </li>
</ul>

<h5 class="mt-4 text-success">üçø Combo</h5>
<ul class="seat-list" th:if="${comboList != null && !comboList.isEmpty()}">
    <li th:each="cb : ${comboList}">
        <strong th:text="${cb.product.name}"></strong>
        (x<span th:text="${cb.quantity}"></span>)
        <span class="float-end"
              th:text="${#numbers.formatDecimal(cb.product.price * cb.quantity,0,'POINT',0,'COMMA')} + ' VND'"></span>
    </li>
</ul>

<p th:if="${comboList == null || comboList.isEmpty()}"
   class="fst-italic text-muted">
    Kh√¥ng ch·ªçn combo
</p>

<div class="text-end mt-3">
    <span class="total-price"
          th:text="${#numbers.formatDecimal(totalPrice,0,'POINT',0,'COMMA')} + ' VND'">
    </span>
</div>

<div class="d-flex justify-content-center align-items-center gap-3 mt-4">

    <!-- N√öT TR·ªû V·ªÄ COMBO -->
    <button type="button"
            class="btn btn-secondary btn-lg px-4"
            onclick="history.back()">
        ‚¨Ö Tr·ªü v·ªÅ ch·ªçn combo
    </button>

    <!-- N√öT HO√ÄN T·∫§T -->
    <form th:action="@{/booking/finish}" method="post" class="m-0">
        <input type="hidden" name="bookingId" th:value="${booking.id}">
        <button type="submit"
                class="btn btn-danger btn-lg px-5">
            ‚úÖ Ho√†n t·∫•t ƒë·∫∑t v√©
        </button>
    </form>

</div>


</div>

</article>

</body>
</html>
